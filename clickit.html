<!doctype html> 
<html lang="en"> 
<head> 
	<meta charset="UTF-8" />
	<title>Phaser - Making your first game, part 1</title>
	<script type="text/javascript" src="../phaser/build/phaser.min.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
        canvas {
        	display: block;
        	margin: auto;
        	margin-top: 20px;
        	color: skyblue;
        }
    </style>
</head>
<body>

<script type="text/javascript">

var game = new Phaser.Game(600, 600, Phaser.CANVAS, 'phaser-example', { preload: preload, create: create, render: render });


var circle;
var items = [];

function preload(){
	game.load.image('star', 'assets/star.png');
	game.load.image('diamond', 'assets/diamond.png');
	game.load.image('firstaid', 'assets/firstaid.png');
	game.load.image('agnes', 'assets/agnes.jpg', 20, 20);
}



function create() {

    //  Here we'll create 8 times 8 of buttons evenly spaced apart
    for (var i = 0; i < 8; i++)
    {
    	items[i] = [];
    	for (var j=0; j < 8; j++)
    	{
    		//Assign random values to a 8X8 matrix
    		items[i][j] = Math.floor((Math.random() * 4) + 1);

    		var image = assignColor(items[i][j]);

    		//  Create a button inside of the 'game' group, with the an image decided above.
        	var button = game.add.button(i * 70, j * 70, image, actionOnClick, this);
    	}
        
    }
}

function assignColor(number){
	var image;
	if(number == 1){
		image = 'star';
	}
	// Or the image diamond
	else if(number == 2){
		image = 'diamond';
	}
	else if(number == 3){
		image = 'firstaid';
	}
	else if(number == 4){
		image = 'agnes';
	}
	return image;
}

function actionOnClick (button) {

    //button.kill();

    console.log("actionOnClick has been called!");
    console.log("button.x = " + button.x/70);
    console.log("button.y = " + button.y/70);
    var numberI = button.x/70;
    var numberJ = button.y/70;
    var buttonPosition = items[numberI][numberJ] + 1;
    console.log("buttonPosition = " + buttonPosition);
    if(buttonPosition == 5){
    	buttonPosition = 1;
    }
    button.assignColor(buttonPosition);
}

function updateButton(){

}

function render () {

}

</script>


</body>
</html>