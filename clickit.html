<!doctype html> 
<html lang="en"> 
<head> 
	<meta charset="UTF-8" />
	<title>ClickIt - the game</title>
	<script type="text/javascript" src="../phaser/build/phaser.min.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
        canvas {
        	display: block;
        	margin: auto;
        	margin-top: 20px;
        }
    </style>
</head>
<body>

<script type="text/javascript">

var game = new Phaser.Game(600, 600, Phaser.AUTO, '', { preload: preload, create: create, render: render });


var button = [];
var delta = 70;

function preload(){
	game.load.image('pink', 'assets/pinkdot.png');
	game.load.image('green', 'assets/greendot.png');
	game.load.image('blue', 'assets/bluedot.png');
	game.load.image('yellow', 'assets/yellowdot.png');

	game.stage.backgroundColor = '#ffffff';
}

function create() {
    //  Here we'll create 8 times 8 of buttons evenly spaced apart
    for (var i = 0; i < 8; i++){
        button[i] = [];
    	for (var j = 0; j < 8; j++){
    		//Assign random values to a 8X8 matrix
    		var number = Math.floor((Math.random() * 4) + 1);

    		var image = assignFirstColor(number);

    		//  Create a button inside of the 'game' group, with the an image decided above.
        	button[i][j] = game.add.button(i * delta, j * delta, image, actionOnClick, this);
    	} 
    }
}

//Assign color from number
function assignFirstColor(number){
	var image;
	if(number == 1){
		image = 'pink';
	}
	else if(number == 2){
		image = 'green';
	}
	else if(number == 3){
		image = 'blue';
	}
	else if(number == 4){
		image = 'yellow';
	}
	return image;
}

//Assign color from string
function assignColorInGame(key){
    var image;
    if(key == 'yellow'){
        image = 'pink';
    }
    else if(key == 'pink'){
        image = 'green';
    }
    else if(key == 'green'){
        image = 'blue';
    }
    else if(key == 'blue'){
        image = 'yellow';
    }
    return image;
}


function actionOnClick (clickedButton) {
    //Retrieve new image string
    var newButtonImage = assignColorInGame(clickedButton.key);

    //Change buttons texture to the new image string
    clickedButton.loadTexture(newButtonImage);
}

function render () {

}

</script>
</body>
</html>